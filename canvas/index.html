<!DOCTYPE html>

<html>

<body>

    <head>
        <style>

            html, body {
              width:  100%;
              height: 100%;
              margin: 0px;
            }

            canvas {
              width:  100%;
              height: 100%;
              position: absolute;
            }

        </style>
    </head>

    <canvas id="c">

    </canvas>

    <script>

    var sound = new Audio("audio/facebook.wav");
    var lSound = new Audio("audio/facebook-left.wav");
    var rSound = new Audio("audio/facebook-right.wav");

    var redraws = 0;

        function draw() {

            var canvas = document.getElementById("c");
            var ctx = canvas.getContext("2d");

            ctx.canvas.width  = window.innerWidth;
            ctx.canvas.height = window.innerHeight;

            ctx.globalCompositeOperation = 'destination-over';
            ctx.clearRect(0, 0, 1100, 1100); // clear canvas

            redraws++;

            console.log("memory leak: " + redraws + " redraws");


            var time = new Date();

            if (time.getMilliseconds() % 31 == 0)   {
                var loc = Math.round(Math.random()*3) + 1;


                if (loc == 1) {
                    rSound.play();
                }
                else if (loc == 2) {
                    lSound.play();
                }
                else {
                    sound.play();
                }

            }

            ctx.moveTo(0, 0);
            ctx.lineTo(100, 100);

            var poop = ctx.rect(0,0,100,200);



            ctx.save();


            window.requestAnimationFrame(draw);
        }

        draw();
    </script>

</body>

</html>
